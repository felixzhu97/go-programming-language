# 第 2 章：程序结构

这一章演示了 Go 语言的程序结构，包括变量声明、指针、赋值、类型声明、包组织和作用域等核心概念。

## 示例程序

### 1. 变量声明和初始化

- `variables.go` - 演示各种变量声明方式、零值、类型推断等

### 2. 指针操作

- `pointers.go` - 演示指针的基本使用、传值与传指针、new 函数等

### 3. 赋值操作

- `assignments.go` - 演示基本赋值、多重赋值、复合赋值操作符等

### 4. 类型声明

- `types.go` - 演示自定义类型、类型别名、结构体、函数类型等

### 5. 变量作用域

- `scope.go` - 演示包级作用域、函数作用域、块作用域和变量遮蔽

### 6. 包组织

- `packages/` - 演示包的创建和使用
  - `tempconv/tempconv.go` - 温度转换包
  - `main.go` - 使用包的主程序

## 运行方式

```bash
# 运行各个示例
go run variables.go
go run pointers.go
go run assignments.go
go run types.go
go run scope.go

# 运行包示例
cd packages
go run main.go
```

## 关键概念

### 1. 变量声明

- `var` 声明：`var name type = value`
- 短变量声明：`name := value`
- 零值：每种类型都有默认的零值
- 类型推断：Go 能够自动推断变量类型

### 2. 指针

- 获取地址：`&variable`
- 解引用：`*pointer`
- 零值：`nil`
- `new()` 函数：分配内存并返回指针

### 3. 赋值

- 基本赋值：`=`
- 多重赋值：`a, b = 1, 2`
- 复合赋值：`+=`, `-=`, `*=`, `/=`
- 自增自减：`++`, `--`

### 4. 类型

- 类型别名：`type NewType OldType`
- 类型转换：`Type(value)`
- 结构体：`type Name struct { ... }`
- 函数类型：`type FuncType func(...) ...`

### 5. 作用域

- 包级作用域：在包内可见
- 函数作用域：在函数内可见
- 块作用域：在`{}`内可见
- 变量遮蔽：内层变量可以遮蔽外层变量

### 6. 包

- 包声明：`package name`
- 导入：`import "path"`
- 导出：首字母大写的名称可以被其他包访问
- 包初始化：`init()` 函数

## 学习要点

1. **变量生命周期**：理解变量何时分配和释放
2. **指针 vs 值**：理解什么时候使用指针，什么时候使用值
3. **类型安全**：Go 是强类型语言，需要显式类型转换
4. **作用域规则**：理解变量的可见性和生命周期
5. **包设计**：如何组织代码到不同的包中
6. **命名约定**：使用有意义的名称，遵循 Go 的命名规范

## 练习建议

1. 尝试修改示例程序，观察行为变化
2. 创建自己的类型和方法
3. 实践包的创建和使用
4. 理解指针和值的区别
5. 掌握作用域规则，避免变量遮蔽的陷阱
